<!DOCTYPE HTML>
<html lang="ko" >
    
    <head>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-161001174-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-161001174-3');
</script>

        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Operators | Introduction</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="gitbook/style.css">
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="./builtin_functions.html" />
    
    
    <link rel="prev" href="./control_statements.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="11"
        data-chapter-title="Operators"
        data-filepath="operators.md"
        data-basepath="."

        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="bug_reports.html">
            
                
                    <a href="./bug_reports.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Bug reports
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="basics.html">
            
                
                    <a href="./basics.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Basics
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="data_types.html">
            
                
                    <a href="./data_types.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Data Types
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="variables.html">
            
                
                    <a href="./variables.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Variables
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="regexp.html">
            
                
                    <a href="./regexp.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Regexp
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="functions.html">
            
                
                    <a href="./functions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        Functions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="escape_sequences.html">
            
                
                    <a href="./escape_sequences.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        Escape sequences
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="begin_end.html">
            
                
                    <a href="./begin_end.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.</b>
                        
                        BEGIN, END
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="builtin_variables.html">
            
                
                    <a href="./builtin_variables.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Built-in Variables
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="record_sep.html">
            
                
                    <a href="./record_sep.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Record 분리
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5" data-path="field_sep.html">
            
                
                    <a href="./field_sep.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Field 분리
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6" data-path="zero_one.html">
            
                
                    <a href="./zero_one.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        $0=$0, $1=$1
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7" data-path="redirection.html">
            
                
                    <a href="./redirection.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Redirection
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8" data-path="getline.html">
            
                
                    <a href="./getline.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        getline
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9" data-path="arrays.html">
            
                
                    <a href="./arrays.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        Arrays
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.1" data-path="sort.html">
            
                
                    <a href="./sort.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.1.</b>
                        
                        Sort
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.2" data-path="GROUP_BY.html">
            
                
                    <a href="./GROUP_BY.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.2.</b>
                        
                        GROUP BY
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.3" data-path="JOIN.html">
            
                
                    <a href="./JOIN.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.3.</b>
                        
                        JOIN
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.4" data-path="subquery.html">
            
                
                    <a href="./subquery.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.4.</b>
                        
                        Subquery
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.5" data-path="index2.html">
            
                
                    <a href="./index2.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.5.</b>
                        
                        Index
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="10" data-path="control_statements.html">
            
                
                    <a href="./control_statements.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        Control Statements
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="11" data-path="operators.html">
            
                
                    <a href="./operators.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>11.</b>
                        
                        Operators
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12" data-path="builtin_functions.html">
            
                
                    <a href="./builtin_functions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.</b>
                        
                        Built-in Functions
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="12.1" data-path="builtin/numeric.html">
            
                
                    <a href="./builtin/numeric.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.1.</b>
                        
                        Numeric Functions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.2" data-path="builtin/string.html">
            
                
                    <a href="./builtin/string.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.2.</b>
                        
                        String Functions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.3" data-path="builtin/io.html">
            
                
                    <a href="./builtin/io.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.3.</b>
                        
                        I/O Functions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.4" data-path="builtin/time.html">
            
                
                    <a href="./builtin/time.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.4.</b>
                        
                        Time Functions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.5" data-path="builtin/bitwise.html">
            
                
                    <a href="./builtin/bitwise.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.5.</b>
                        
                        Bitwise Functions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12.6" data-path="builtin/type.html">
            
                
                    <a href="./builtin/type.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.6.</b>
                        
                        Type Functions
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="13" data-path="extensions.html">
            
                
                    <a href="./extensions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.</b>
                        
                        Dynamic Extensions
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="13.1" data-path="example.html">
            
                
                    <a href="./example.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.1.</b>
                        
                        예제
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="14" data-path="tcp_ip.html">
            
                
                    <a href="./tcp_ip.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>14.</b>
                        
                        TCP/IP Internetworking
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15" data-path="command_line_options.html">
            
                
                    <a href="./command_line_options.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.</b>
                        
                        Command-line options
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16" data-path="debugging.html">
            
                
                    <a href="./debugging.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.</b>
                        
                        Debugging
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="17" data-path="tips.html">
            
                
                    <a href="./tips.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>17.</b>
                        
                        Tips
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18" data-path="closing.html">
            
                
                    <a href="./closing.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.</b>
                        
                        맺음말
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >Introduction</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="operators">Operators</h1>
<p>&#xC6B0;&#xC120;&#xC21C;&#xC704;&#xAC00; &#xB192;&#xC740; &#xAC83;&#xBD80;&#xD130; &#xB0AE;&#xC740; &#xC21C;&#xC11C;&#xC785;&#xB2C8;&#xB2E4;.</p>
<table>
<thead>
<tr>
<th>Operators</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>++</code> <code>--</code></strong></td>
<td>Increment and decrement (prefix and postfix).</td>
</tr>
<tr>
<td><strong><code>^</code></strong></td>
<td>Power.</td>
</tr>
<tr>
<td><strong><code>*</code> <code>/</code> <code>%</code></strong></td>
<td>Multiply, divide and modulus (remainder).</td>
</tr>
<tr>
<td><strong><code>+</code> <code>-</code></strong></td>
<td>Add and subtract.</td>
</tr>
<tr>
<td>nothing</td>
<td>String concatenation.</td>
</tr>
<tr>
<td><strong><code>&gt;</code> <code>&gt;=</code> <code>&lt;</code> <code>&lt;=</code> <code>==</code> <code>!=</code> <code>~</code> <code>!~</code></strong></td>
<td>Relational operators.</td>
</tr>
<tr>
<td><strong><code>!</code></strong></td>
<td>Negate expression.</td>
</tr>
<tr>
<td><strong><code>&amp;&amp;</code></strong></td>
<td>Logical AND.</td>
</tr>
<tr>
<td><b><code>||</code></b></td>
<td>Logical OR.</td>
</tr>
<tr>
<td><strong><code>=</code> <code>+=</code> <code>-=</code> <code>*=</code> <code>/=</code> <code>%=</code> <code>^=</code></strong></td>
<td>Assignment.</td>
</tr>
</tbody>
</table>
<pre><code class="lang-bash"><span class="hljs-comment"># &apos;^=&apos; &#xB294; power &#xB300;&#xC785; &#xC5F0;&#xC0B0;&#xC790;</span>
$ awk <span class="hljs-string">&apos;BEGIN { aa = 3; aa ^= 2; print aa }&apos;</span> 
<span class="hljs-number">9</span>

$ awk <span class="hljs-string">&apos;BEGIN { aa = 4; aa ^= 2; print aa }&apos;</span> 
<span class="hljs-number">16</span>
</code></pre>
<h1 id="quiz">Quiz</h1>
<p><code>7 + 3 * (5 - 2) + 4</code> &#xC640; &#xAC19;&#xC740; &#xC0AC;&#xCE59;&#xC5F0;&#xC0B0; &#xC218;&#xC2DD;&#xC744; &#xB77C;&#xC778; &#xB2E8;&#xC704;&#xB85C; &#xC785;&#xB825;&#xBC1B;&#xC544; 
&#xC5F0;&#xC0B0; &#xACB0;&#xACFC;&#xB97C; &#xCD9C;&#xB825;&#xD558;&#xB294; &#xAC83;&#xC785;&#xB2C8;&#xB2E4;.  &#xB367;&#xC148;, &#xBE84;&#xC148;&#xBCF4;&#xB2E4;&#xB294; &#xACF1;&#xC148;, &#xB098;&#xB217;&#xC148;&#xC744; &#xBA3C;&#xC800; &#xACC4;&#xC0B0;&#xD574;&#xC57C; &#xD558;&#xACE0; 
&#xAD04;&#xD638;&#xAC00; &#xC788;&#xC744; &#xACBD;&#xC6B0; &#xC81C;&#xC77C; &#xBA3C;&#xC800; &#xACC4;&#xC0B0;&#xD574;&#xC57C; &#xD569;&#xB2C8;&#xB2E4;.
&#xC5EC;&#xAE30;&#xC11C;&#xB294; stack &#xC744; &#xD65C;&#xC6A9;&#xD558;&#xB294; &#xD6C4;&#xC704; &#xD45C;&#xAE30;&#xBC95;&#xC744; &#xC0AC;&#xC6A9;&#xD588;&#xC2B5;&#xB2C8;&#xB2E4;.
&#xC790;&#xC138;&#xD55C; &#xC124;&#xBA85;&#xC740; <a href="https://jamanbbo.tistory.com/53" target="_blank">&#xC3ED;&#xC774;&#xB2D8;&#xC758; &#xD648;&#xD398;&#xC774;&#xC9C0;</a> &#xB97C; &#xCC38;&#xACE0;&#xD558;&#xC138;&#xC694;.</p>
<blockquote>
<p>&#xD6C4;&#xC704; &#xD45C;&#xAE30;&#xBC95; (postfix notation) &#xC740; <a href="https://ko.wikipedia.org/wiki/%EC%97%AD%ED%8F%B4%EB%9E%80%EB%93%9C_%ED%91%9C%EA%B8%B0%EB%B2%95" target="_blank">&#xC5ED;&#xD3F4;&#xB780;&#xB4DC; &#xD45C;&#xAE30;&#xBC95;</a> (RPN, reverse Polish notation)
&#xC774;&#xB77C;&#xACE0;&#xB3C4; &#xD558;&#xB294;&#xB370; &#xC5F0;&#xC0B0;&#xC790;&#xB97C; &#xC5F0;&#xC0B0; &#xB300;&#xC0C1;&#xC758; &#xB4A4;&#xC5D0; &#xC4F0;&#xB294; &#xD45C;&#xAE30;&#xBC95;&#xC785;&#xB2C8;&#xB2E4;.
&#xC774; &#xBC29;&#xC2DD;&#xC740; &#xC218;&#xC2DD;&#xC744; &#xACC4;&#xC0B0;&#xD560; &#xB54C; &#xD2B9;&#xBCC4;&#xD55C; &#xBCC0;&#xD658; &#xC5C6;&#xC774;, &#xC218;&#xC2DD;&#xC744; &#xC55E;&#xC5D0;&#xC11C;&#xBD80;&#xD130; &#xC77D;&#xC5B4; &#xB098;&#xAC00;&#xBA74;&#xC11C; stack &#xC5D0; &#xC800;&#xC7A5;&#xD558;&#xBA74; &#xB41C;&#xB2E4;&#xB294; &#xC7A5;&#xC810;&#xC774; &#xC788;&#xB2E4;. </p>
</blockquote>
<pre><code class="lang-bash">$ cat file
<span class="hljs-number">1</span> + <span class="hljs-number">2</span> * <span class="hljs-number">3</span> + <span class="hljs-number">4</span> 
(<span class="hljs-number">1</span> + <span class="hljs-number">2</span>) * <span class="hljs-number">3</span> + <span class="hljs-number">4</span>
<span class="hljs-number">7</span> + <span class="hljs-number">3</span> * (<span class="hljs-number">5</span> - <span class="hljs-number">2</span>) + <span class="hljs-number">4</span>
- - <span class="hljs-number">3</span> - + - - <span class="hljs-number">4</span> + <span class="hljs-number">5</span>
- - <span class="hljs-number">3</span> - ( - <span class="hljs-number">4</span> + <span class="hljs-number">5</span> )
<span class="hljs-number">3</span> - - (-<span class="hljs-number">10</span> + -<span class="hljs-number">2</span>)
<span class="hljs-number">3</span> + (-<span class="hljs-number">10</span> - -(<span class="hljs-number">3</span>) + - ( <span class="hljs-number">3</span> - - (-<span class="hljs-number">10</span> + -<span class="hljs-number">2</span>) + -<span class="hljs-number">2</span>))

$ ./test.sh file        <span class="hljs-comment"># &#xB610;&#xB294; cat file | ./test.sh</span>
<span class="hljs-number">11</span>
<span class="hljs-number">13</span>
<span class="hljs-number">20</span>
<span class="hljs-number">4</span>
<span class="hljs-number">2</span>
-<span class="hljs-number">9</span>
<span class="hljs-number">7</span>
</code></pre>
<blockquote>
<ol>
<li><p>&#xC801;&#xC6A9;&#xB418;&#xB294; &#xC6B0;&#xC120;&#xC21C;&#xC704;&#xB294; <code>(</code>  &lt;&lt;  <code>+</code> <code>-</code>  &lt;&lt;  <code>*</code> <code>/</code> &#xC785;&#xB2C8;&#xB2E4;.   </p>
</li>
<li><p>&#xD604;&#xC7AC; &#xC5F0;&#xC0B0;&#xC790;&#xAC00; ostack &#xC758; top &#xC5D0; &#xC788;&#xB294; &#xC5F0;&#xC0B0;&#xC790; &#xBCF4;&#xB2E4; &#xC6B0;&#xC120;&#xC21C;&#xC704;&#xAC00; &#xB192;&#xC744; &#xB54C;&#xAE4C;&#xC9C0; &#xAEBC;&#xB0B4;&#xC5B4;
calc &#xD558;&#xACE0; &#xC6B0;&#xC120;&#xC21C;&#xC704;&#xAC00; &#xB192;&#xC544;&#xC84C;&#xB2E4;&#xBA74; ostack &#xC5D0; push &#xD569;&#xB2C8;&#xB2E4;.   </p>
</li>
<li><p><code>- 3 - ( - 4 - + - 5 )</code> &#xC5D0;&#xC11C; &#xC22B;&#xC790; &#xC55E;&#xC5D0; &#xC788;&#xB294; <code>- 3</code>, <code>- 4</code>, <code>+ - 5</code> &#xC5F0;&#xC0B0;&#xC790;&#xB294; &#xB450; &#xAC1C;&#xC758;
operand &#xB97C; &#xC774;&#xC6A9;&#xD574; &#xC5F0;&#xC0B0;&#xD558;&#xB294; binary &#xC5F0;&#xC0B0;&#xC790;&#xAC00; &#xC544;&#xB2C8;&#xACE0; unary &#xC5F0;&#xC0B0;&#xC790; &#xC774;&#xBBC0;&#xB85C; ostack &#xC5D0;
push &#xD558;&#xC9C0; &#xC54A;&#xACE0; number &#xC5D0; &#xBD80;&#xD638;&#xB97C; &#xC124;&#xC815;&#xD574;&#xC11C; rstack &#xC5D0; push &#xD569;&#xB2C8;&#xB2E4;.</p>
</li>
<li><p><code>3 - - (-10 + -2)</code> &#xC640; &#xAC19;&#xC774; &#xAD04;&#xD638; &#xC55E;&#xC5D0; &#xC788;&#xB294; unary &#xC5F0;&#xC0B0;&#xC790;&#xB294; &#xAD04;&#xD638;&#xAC00; &#xB2EB;&#xD790;&#xB54C; &#xCD5C;&#xC885; &#xACB0;&#xACFC;&#xAC12;&#xC5D0;
&#xBD80;&#xD638;&#xB97C; &#xC124;&#xC815;&#xD574;&#xC57C; &#xD569;&#xB2C8;&#xB2E4;. &#xAD04;&#xD638;&#xB294; nesting &#xB420;&#xC218; &#xC788;&#xC73C;&#xBBC0;&#xB85C; ustack &#xC744; &#xC774;&#xC6A9;&#xD574; <code>&quot;(&quot;</code> &#xC5D0;&#xC11C;
&#xBD80;&#xD638;&#xAC12;&#xC744; &#xC800;&#xC7A5;&#xD558;&#xACE0; <code>&quot;)&quot;</code> &#xC5D0;&#xC11C; rstack &#xC5D0;&#xC11C; &#xACB0;&#xACFC;&#xAC12;&#xC744; pop &#xD574;&#xC11C; &#xBD80;&#xD638;&#xB97C; &#xC124;&#xC815;&#xD569;&#xB2C8;&#xB2E4;.</p>
</li>
</ol>
</blockquote>
<pre><code class="lang-bash"><span class="hljs-comment">#!/usr/bin/env -S gawk -f</span>

BEGIN { token[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]; ostack[<span class="hljs-number">0</span>]; rstack[<span class="hljs-number">0</span>]; ustack[<span class="hljs-number">0</span>] }

{
    idx = <span class="hljs-number">0</span>
    tokenize(token, <span class="hljs-variable">$0</span>)
    <span class="hljs-built_in">print</span> result()

    delete token 
}

<span class="hljs-keyword">function</span> result(     i, len, op, pk, val, unary, unary_p) {
    len = length(token)
    unary = <span class="hljs-number">1</span>; unary_p = <span class="hljs-number">1</span>
    <span class="hljs-keyword">for</span> (i=<span class="hljs-number">0</span>; i &lt; len; i++) {
        switch ( token[i][<span class="hljs-string">&quot;name&quot;</span>] ) {

            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;number&quot;</span> :  
                push(rstack, unary * token[i][<span class="hljs-string">&quot;value&quot;</span>])
                unary = <span class="hljs-number">1</span>
                <span class="hljs-built_in">break</span>

            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;operator&quot;</span> :
                op = token[i][<span class="hljs-string">&quot;value&quot;</span>]
                <span class="hljs-keyword">if</span> ( i == <span class="hljs-number">0</span> \
                     || token[i-<span class="hljs-number">1</span>][<span class="hljs-string">&quot;value&quot;</span>] == <span class="hljs-string">&quot;(&quot;</span> \
                     || token[i-<span class="hljs-number">1</span>][<span class="hljs-string">&quot;name&quot;</span>] == <span class="hljs-string">&quot;operator&quot;</span>)
                { 
                    <span class="hljs-keyword">if</span> ( token[i+<span class="hljs-number">1</span>][<span class="hljs-string">&quot;value&quot;</span>] == <span class="hljs-string">&quot;(&quot;</span>) {
                        unary_p = unary * (op <span class="hljs-number">1</span>)
                        unary = <span class="hljs-number">1</span>
                    } <span class="hljs-keyword">else</span> unary *= op <span class="hljs-number">1</span>
                    <span class="hljs-built_in">break</span> 
                }

                pk = peek(ostack)               
                <span class="hljs-keyword">if</span> ( pk == <span class="hljs-string">&quot;&quot;</span> || pk == <span class="hljs-string">&quot;(&quot;</span> ) { push(ostack, op); <span class="hljs-built_in">break</span> }   

                <span class="hljs-keyword">if</span> ( op == <span class="hljs-string">&quot;*&quot;</span> || op == <span class="hljs-string">&quot;/&quot;</span> )
                {
                    <span class="hljs-keyword">while</span>( peek(ostack) ~ /\*|\// ) 
                        calc( pop(ostack))
                    push(ostack, op)
                    <span class="hljs-built_in">break</span>
                }

                <span class="hljs-keyword">while</span>( peek(ostack) != <span class="hljs-string">&quot;(&quot;</span> &amp;&amp; slen(ostack) &gt; <span class="hljs-number">0</span> ) 
                    calc( pop(ostack))
                push( ostack, op) 
                <span class="hljs-built_in">break</span>

            <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;parenthesis&quot;</span> :
                val = token[i][<span class="hljs-string">&quot;value&quot;</span>]
                <span class="hljs-keyword">if</span> ( val == <span class="hljs-string">&quot;(&quot;</span> ) {
                    push(ostack, val)
                    push(ustack, unary_p)
                    unary_p = <span class="hljs-number">1</span>
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">while</span> (val = pop(ostack)) {
                        <span class="hljs-keyword">if</span> ( val == <span class="hljs-string">&quot;(&quot;</span> ) <span class="hljs-built_in">break</span>
                        <span class="hljs-keyword">else</span> calc(val)
                    }
                    push(rstack, pop(ustack) * pop(rstack))
                }
        }
    }

    len = slen(ostack)                        
    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt;= len; i++) calc( pop(ostack) )
    <span class="hljs-built_in">return</span>  pop(rstack)
}

<span class="hljs-keyword">function</span> calc(op,      num1, num2, res) {
    num1 = pop(rstack)
    num2 = pop(rstack)
    switch (op) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;+&quot;</span> : res = num2 + num1; <span class="hljs-built_in">break</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;-&quot;</span> : res = num2 - num1; <span class="hljs-built_in">break</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;*&quot;</span> : res = num2 * num1; <span class="hljs-built_in">break</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;/&quot;</span> : res = num2 / num1; <span class="hljs-built_in">break</span>
    }
    push(rstack, res)
}

<span class="hljs-keyword">function</span> tokenize (token, str,     i, len, char) {
    len = length(str)
    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt;= len; i++) {
        char = substr(str, i, <span class="hljs-number">1</span>)
        switch (char) {
            <span class="hljs-keyword">case</span> /+|-|*|\//  : 
                token[idx][<span class="hljs-string">&quot;name&quot;</span>] = <span class="hljs-string">&quot;operator&quot;</span>
                token[idx++][<span class="hljs-string">&quot;value&quot;</span>] = char
                <span class="hljs-built_in">break</span>
            <span class="hljs-keyword">case</span> /\(|)/ :
                token[idx][<span class="hljs-string">&quot;name&quot;</span>] = <span class="hljs-string">&quot;parenthesis&quot;</span>
                token[idx++][<span class="hljs-string">&quot;value&quot;</span>] = char
                <span class="hljs-built_in">break</span>
            <span class="hljs-keyword">case</span> /[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]/ : 
                i += t_number(token, substr(str,i))
                <span class="hljs-built_in">break</span>
        }
    }
}

<span class="hljs-keyword">function</span> t_number (token, str,      res, i, char) {
    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; char = substr(str, i, <span class="hljs-number">1</span>); i++) {
        <span class="hljs-keyword">if</span> ( char ~ /[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>.]/ ) res = res char
        <span class="hljs-keyword">else</span> <span class="hljs-built_in">break</span>
    }
    token[idx][<span class="hljs-string">&quot;name&quot;</span>] = <span class="hljs-string">&quot;number&quot;</span>
    token[idx++][<span class="hljs-string">&quot;value&quot;</span>] = res
    <span class="hljs-built_in">return</span> i - <span class="hljs-number">2</span>
}

<span class="hljs-comment">############     stack     ############</span>

<span class="hljs-keyword">function</span> push(arr, val) {
    arr[ length(arr) ] = val
}
<span class="hljs-keyword">function</span> pop(arr,      ret) {
    <span class="hljs-keyword">if</span> ( length(arr) &gt; <span class="hljs-number">1</span> ) {
        ret = arr[ length(arr) - <span class="hljs-number">1</span> ]
        delete arr[ length(arr) - <span class="hljs-number">1</span> ]
    }
    <span class="hljs-built_in">return</span> ret
}
<span class="hljs-keyword">function</span> peek(arr,      ret) {
    <span class="hljs-keyword">if</span> ( length(arr) &gt; <span class="hljs-number">1</span> ) {
        ret = arr[ length(arr) - <span class="hljs-number">1</span> ]
    }
    <span class="hljs-built_in">return</span> ret
}
<span class="hljs-keyword">function</span> slen(arr) {
    <span class="hljs-built_in">return</span> length(arr) - <span class="hljs-number">1</span>
}
</code></pre>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./control_statements.html" class="navigation navigation-prev " aria-label="Previous page: Control Statements"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./builtin_functions.html" class="navigation navigation-next " aria-label="Next page: Built-in Functions"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
